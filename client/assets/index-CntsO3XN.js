import{a as p,p as n,y as ft}from"./chunk-C37GKA54-PmDymV9p.js";import{s as gt,u as yt,S as tt,C as et,P as st,a as xt}from"./products-Dr-pD9oY.js";import{P as rt,b as it}from"./CartItem-C4gFg_f0.js";import{B as O}from"./middleware-C6bdfTKr.js";import{i as at,L as U,a as ct}from"./List-Bo9Y7fOu.js";import{E as ht,F as bt,h as z,j as q,g as H,H as St,q as jt,e as K,f as V,s as R,m as lt,y as vt,A as Pt,v as F}from"./Typography-D1PY5qkP.js";import{u as J,i as nt}from"./isHostComponent-CNWZ3r0K.js";import{C as Ct}from"./Chip-D0gvaICt.js";import{u as wt}from"./useTranslation-CT2sYqrC.js";import"./index-CqOg6cT8.js";const It=(t,e)=>t.filter(s=>e.includes(s)),B=(t,e,s)=>{const o=t.keys[0];Array.isArray(e)?e.forEach((r,i)=>{s((a,c)=>{i<=t.keys.length-1&&(i===0?Object.assign(a,c):a[t.up(t.keys[i])]=c)},r)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:It(t.keys,Object.keys(e))).forEach(i=>{if(t.keys.includes(i)){const a=e[i];a!==void 0&&s((c,g)=>{o===i?Object.assign(c,g):c[t.up(i)]=g},a)}}):(typeof e=="number"||typeof e=="string")&&s((r,i)=>{Object.assign(r,i)},e)};function W(t){return`--Grid-${t}Spacing`}function Y(t){return`--Grid-parent-${t}Spacing`}const ot="--Grid-columns",D="--Grid-parent-columns",At=({theme:t,ownerState:e})=>{const s={};return B(t.breakpoints,e.size,(o,r)=>{let i={};r==="grow"&&(i={flexBasis:0,flexGrow:1,maxWidth:"100%"}),r==="auto"&&(i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof r=="number"&&(i={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${r} / var(${D}) - (var(${D}) - ${r}) * (var(${Y("column")}) / var(${D})))`}),o(s,i)}),s},Gt=({theme:t,ownerState:e})=>{const s={};return B(t.breakpoints,e.offset,(o,r)=>{let i={};r==="auto"&&(i={marginLeft:"auto"}),typeof r=="number"&&(i={marginLeft:r===0?"0px":`calc(100% * ${r} / var(${D}) + var(${Y("column")}) * ${r} / var(${D}))`}),o(s,i)}),s},kt=({theme:t,ownerState:e})=>{if(!e.container)return{};const s={[ot]:12};return B(t.breakpoints,e.columns,(o,r)=>{const i=r??12;o(s,{[ot]:i,"> *":{[D]:i}})}),s},Rt=({theme:t,ownerState:e})=>{if(!e.container)return{};const s={};return B(t.breakpoints,e.rowSpacing,(o,r)=>{var a;const i=typeof r=="string"?r:(a=t.spacing)==null?void 0:a.call(t,r);o(s,{[W("row")]:i,"> *":{[Y("row")]:i}})}),s},Lt=({theme:t,ownerState:e})=>{if(!e.container)return{};const s={};return B(t.breakpoints,e.columnSpacing,(o,r)=>{var a;const i=typeof r=="string"?r:(a=t.spacing)==null?void 0:a.call(t,r);o(s,{[W("column")]:i,"> *":{[Y("column")]:i}})}),s},$t=({theme:t,ownerState:e})=>{if(!e.container)return{};const s={};return B(t.breakpoints,e.direction,(o,r)=>{o(s,{flexDirection:r})}),s},Nt=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${W("row")}) var(${W("column")})`}}),Mt=t=>{const e=[];return Object.entries(t).forEach(([s,o])=>{o!==!1&&o!==void 0&&e.push(`grid-${s}-${String(o)}`)}),e},Tt=(t,e="xs")=>{function s(o){return o===void 0?!1:typeof o=="string"&&!Number.isNaN(Number(o))||typeof o=="number"&&o>0}if(s(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const o=[];return Object.entries(t).forEach(([r,i])=>{s(i)&&o.push(`spacing-${r}-${String(i)}`)}),o}return[]},Ft=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,s])=>`direction-${e}-${s}`):[`direction-xs-${String(t)}`];function Dt(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(s=>{t[s]!==void 0&&delete t[s]})}const zt=St(),Bt=gt("div",{name:"MuiGrid",slot:"Root"});function Et(t){return yt({props:t,name:"MuiGrid",defaultTheme:zt})}function _t(t={}){const{createStyledComponent:e=Bt,useThemeProps:s=Et,useTheme:o=ht,componentName:r="MuiGrid"}=t,i=(d,u)=>{const{container:h,direction:m,spacing:f,wrap:l,size:I}=d,b={root:["root",h&&"container",l!=="wrap"&&`wrap-xs-${String(l)}`,...Ft(m),...Mt(I),...h?Tt(f,u.breakpoints.keys[0]):[]]};return q(b,y=>H(r,y),{})};function a(d,u,h=()=>!0){const m={};return d===null||(Array.isArray(d)?d.forEach((f,l)=>{f!==null&&h(f)&&u.keys[l]&&(m[u.keys[l]]=f)}):typeof d=="object"?Object.keys(d).forEach(f=>{const l=d[f];l!=null&&h(l)&&(m[f]=l)}):m[u.keys[0]]=d),m}const c=e(kt,Lt,Rt,At,$t,Nt,Gt),g=p.forwardRef(function(u,h){const m=o(),f=s(u),l=bt(f);Dt(l,m.breakpoints);const{className:I,children:b,columns:y=12,container:L=!1,component:$="div",direction:N="row",wrap:v="wrap",size:A={},offset:E={},spacing:x=0,rowSpacing:M=x,columnSpacing:P=x,unstable_level:S=0,..._}=l,T=a(A,m.breakpoints,w=>w!==!1),G=a(E,m.breakpoints),k=u.columns??(S?void 0:y),C=u.spacing??(S?void 0:x),ut=u.rowSpacing??u.spacing??(S?void 0:M),mt=u.columnSpacing??u.spacing??(S?void 0:P),X={...l,level:S,columns:k,container:L,direction:N,wrap:v,spacing:C,rowSpacing:ut,columnSpacing:mt,size:T,offset:G},pt=i(X,m);return n.jsx(c,{ref:h,as:$,ownerState:X,className:z(pt.root,I),..._,children:p.Children.map(b,w=>{var Z;return p.isValidElement(w)&&at(w,["Grid"])&&L&&w.props.container?p.cloneElement(w,{unstable_level:((Z=w.props)==null?void 0:Z.unstable_level)??S+1}):w})})});return g.muiName="Grid",g}const Ot=jt(n.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function Ut(t){return H("MuiAvatar",t)}K("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Wt=t=>{const{classes:e,variant:s,colorDefault:o}=t;return q({root:["root",s,o&&"colorDefault"],img:["img"],fallback:["fallback"]},Ut,e)},qt=R("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,e[s.variant],s.colorDefault&&e.colorDefault]}})(lt(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}))),Ht=R("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Kt=R(Ot,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function Vt({crossOrigin:t,referrerPolicy:e,src:s,srcSet:o}){const[r,i]=p.useState(!1);return p.useEffect(()=>{if(!s&&!o)return;i(!1);let a=!0;const c=new Image;return c.onload=()=>{a&&i("loaded")},c.onerror=()=>{a&&i("error")},c.crossOrigin=t,c.referrerPolicy=e,c.src=s,o&&(c.srcset=o),()=>{a=!1}},[t,e,s,o]),r}const Yt=p.forwardRef(function(e,s){const o=V({props:e,name:"MuiAvatar"}),{alt:r,children:i,className:a,component:c="div",slots:g={},slotProps:d={},imgProps:u,sizes:h,src:m,srcSet:f,variant:l="circular",...I}=o;let b=null;const y={...o,component:c,variant:l},L=Vt({...u,...typeof d.img=="function"?d.img(y):d.img,src:m,srcSet:f}),$=m||f,N=$&&L!=="error";y.colorDefault=!N,delete y.ownerState;const v=Wt(y),[A,E]=J("root",{ref:s,className:z(v.root,a),elementType:qt,externalForwardedProps:{slots:g,slotProps:d,component:c,...I},ownerState:y}),[x,M]=J("img",{className:v.img,elementType:Ht,externalForwardedProps:{slots:g,slotProps:{img:{...u,...d.img}}},additionalProps:{alt:r,src:m,srcSet:f,sizes:h},ownerState:y}),[P,S]=J("fallback",{className:v.fallback,elementType:Kt,externalForwardedProps:{slots:g,slotProps:d},shouldForwardComponentProp:!0,ownerState:y});return N?b=n.jsx(x,{...M}):i||i===0?b=i:$&&r?b=r[0]:b=n.jsx(P,{...S}),n.jsx(A,{...E,children:b})}),Jt=_t({createStyledComponent:R("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,s.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>V({props:t,name:"MuiGrid"}),useTheme:vt});function Qt(t){return H("MuiListItem",t)}K("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const Xt=K("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Zt(t){return H("MuiListItemSecondaryAction",t)}K("MuiListItemSecondaryAction",["root","disableGutters"]);const te=t=>{const{disableGutters:e,classes:s}=t;return q({root:["root",e&&"disableGutters"]},Zt,s)},ee=R("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,s.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:t})=>t.disableGutters,style:{right:0}}]}),dt=p.forwardRef(function(e,s){const o=V({props:e,name:"MuiListItemSecondaryAction"}),{className:r,...i}=o,a=p.useContext(U),c={...o,disableGutters:a.disableGutters},g=te(c);return n.jsx(ee,{className:z(g.root,r),ownerState:c,ref:s,...i})});dt.muiName="ListItemSecondaryAction";const se=(t,e)=>{const{ownerState:s}=t;return[e.root,s.dense&&e.dense,s.alignItems==="flex-start"&&e.alignItemsFlexStart,s.divider&&e.divider,!s.disableGutters&&e.gutters,!s.disablePadding&&e.padding,s.hasSecondaryAction&&e.secondaryAction]},ne=t=>{const{alignItems:e,classes:s,dense:o,disableGutters:r,disablePadding:i,divider:a,hasSecondaryAction:c}=t;return q({root:["root",o&&"dense",!r&&"gutters",!i&&"padding",a&&"divider",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction"],container:["container"]},Qt,s)},oe=R("div",{name:"MuiListItem",slot:"Root",overridesResolver:se})(lt(({theme:t})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${Xt.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),re=R("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),j=p.forwardRef(function(e,s){const o=V({props:e,name:"MuiListItem"}),{alignItems:r="center",children:i,className:a,component:c,components:g={},componentsProps:d={},ContainerComponent:u="li",ContainerProps:{className:h,...m}={},dense:f=!1,disableGutters:l=!1,disablePadding:I=!1,divider:b=!1,secondaryAction:y,slotProps:L={},slots:$={},...N}=o,v=p.useContext(U),A=p.useMemo(()=>({dense:f||v.dense||!1,alignItems:r,disableGutters:l}),[r,v.dense,f,l]),E=p.useRef(null),x=p.Children.toArray(i),M=x.length&&at(x[x.length-1],["ListItemSecondaryAction"]),P={...o,alignItems:r,dense:A.dense,disableGutters:l,disablePadding:I,divider:b,hasSecondaryAction:M},S=ne(P),_=Pt(E,s),T=$.root||g.Root||oe,G=L.root||d.root||{},k={className:z(S.root,G.className,a),...N};let C=c||"li";return M?(C=!k.component&&!c?"div":C,u==="li"&&(C==="li"?C="div":k.component==="li"&&(k.component="div")),n.jsx(U.Provider,{value:A,children:n.jsxs(re,{as:u,className:z(S.container,h),ref:_,ownerState:P,...m,children:[n.jsx(T,{...G,...!nt(T)&&{as:C,ownerState:{...P,...G.ownerState}},...k,children:x}),x.pop()]})})):n.jsx(U.Provider,{value:A,children:n.jsxs(T,{...G,as:C,ref:_,...!nt(T)&&{ownerState:{...P,...G.ownerState}},...k,children:[x,y&&n.jsx(dt,{children:y})]})})}),ie=p.memo(({product:t})=>n.jsxs(O,{id:t.id,children:[n.jsxs(ct,{children:[n.jsx(j,{children:n.jsx(F,{variant:"h6",children:t.name})}),n.jsx(j,{children:n.jsx(F,{children:t.photo&&n.jsx("img",{src:t.photo})})}),n.jsx(j,{children:n.jsx(F,{children:t.desc})}),n.jsx(j,{children:n.jsx(F,{children:new Date(t.createdAt).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})}),n.jsx(j,{children:n.jsxs(O,{width:1,sx:{display:"inline-flex",justifyContent:"space-between"},children:[n.jsx(rt,{price:t.price,oldPrice:t.oldPrice}),n.jsx(it,{product:t})]})})]}),n.jsx(O,{children:n.jsx(j,{children:n.jsx(Ct,{id:t.category.id,avatar:n.jsx(Yt,{alt:t.category.name,src:t.category.photo}),label:t.category.name})})})]})),ae="_container_i95ru_1",Q={container:ae,"truncate-container":"_truncate-container_i95ru_5","truncate-text":"_truncate-text_i95ru_10"},ce=p.memo(({product:t})=>n.jsx(O,{className:Q.container,children:n.jsxs(ct,{children:[n.jsx(j,{children:n.jsx(F,{variant:"h6",children:t.name})}),n.jsx(j,{children:n.jsxs(tt,{gap:1,direction:"row",children:[n.jsx("img",{width:128,height:128,src:t.photo}),n.jsx(F,{title:t.desc,className:z(Q["truncate-container"],Q["truncate-text"]),component:"div",children:t.desc})]})}),n.jsx(j,{children:n.jsxs(tt,{width:1,direction:"row",sx:{justifyContent:"space-between"},children:[n.jsx(rt,{price:t.price,oldPrice:t.oldPrice}),n.jsx(it,{product:t})]})})]})})),le=()=>{const[t,e]=p.useState([]);return p.useEffect(()=>{(async()=>{const o=await xt(1,1);e(o)})()},[]),n.jsxs(Jt,{container:!0,spacing:2,children:[n.jsx(et,{sx:{height:"fit-content"},children:n.jsx(st,{products:t,renderItem:s=>n.jsx(ie,{product:s})})}),n.jsx(et,{sx:{height:"fit-content"},children:n.jsx(st,{products:t,renderItem:s=>n.jsx(ce,{product:s})})})]})},Se=()=>{const{t}=wt("translation",{keyPrefix:"pages.product"});return[{title:t("title")}]},je=ft(le);export{je as default,Se as meta};
