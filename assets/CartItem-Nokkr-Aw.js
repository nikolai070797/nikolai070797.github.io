var Ft=Object.defineProperty;var kt=(e,t,n)=>t in e?Ft(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ee=(e,t,n)=>kt(e,typeof t!="symbol"?t+"":t,n);import{p as E,a as i,C as bt,R as _t}from"./chunk-C37GKA54-1aOc6qnp.js";import{A as jt,D as Bt}from"./Delete-CVYJJiMP.js";import{e as Lt,s as Ut,p as Ot,b as $t,B as fe}from"./index-Caxphnaj.js";import{q as Kt,v as We}from"./Typography-DyWZUj9a.js";import{u as Ht}from"./useTranslation-CNdmgvig.js";import{a as Gt}from"./index-BfSeETMd.js";import{I as Wt}from"./IconButton-DmZv7dyR.js";const ht=Lt()(Ut(Ot(e=>({cartItems:[],addProduct:t=>e(n=>n.cartItems.find(r=>r.productId===t.id)?{cartItems:n.cartItems.map(r=>r.productId===t.id?{...r,quantity:r.quantity+1}:r)}:{cartItems:[...n.cartItems,{productId:t.id,quantity:1}]}),decrementProduct:t=>e(n=>{const s=n.cartItems.find(r=>r.productId===t);return s?s.quantity>1?{cartItems:n.cartItems.map(r=>r.productId===t?{...r,quantity:r.quantity-1}:r)}:{cartItems:n.cartItems.filter(r=>r.productId!==t)}:n}),removeProduct:t=>e(n=>({cartItems:n.cartItems.filter(s=>s.productId!==t)})),clear:()=>e({cartItems:[]}),setQuantity:(t,n)=>e(s=>n<=0?{cartItems:s.cartItems.filter(o=>o.productId!==t)}:s.cartItems.find(o=>o.productId===t)?{cartItems:s.cartItems.map(o=>o.productId===t?{...o,quantity:n}:o)}:s)}),{name:"cart-store",version:2}))),xr=()=>{const{cartItems:e}=ht();return e.reduce((t,n)=>t+n.quantity,0)},Yt=Kt(E.jsx("path",{d:"M19 13H5v-2h14z"})),qt="_buy_14ldy_1",Xt="_field_14ldy_9",zt="_group_14ldy_34",Jt="_input_14ldy_38",Qt="_decrement_14ldy_62",Zt="_increment_14ldy_63",le={buy:qt,field:Xt,group:zt,input:Jt,decrement:Qt,increment:Zt};function en({controlled:e,default:t,name:n,state:s="value"}){const{current:r}=i.useRef(e!==void 0),[o,l]=i.useState(t),b=r?e:o,d=i.useCallback(m=>{r||l(m)},[]);return[b,d]}const it={};function pe(e,t){const n=i.useRef(it);return n.current===it&&(n.current=e(t)),n}const He=bt[`useInsertionEffect${Math.random().toFixed(1)}`.slice(0,-3)],tn=He&&He!==i.useLayoutEffect?He:e=>e();function z(e){const t=pe(nn).current;return t.next=e,tn(t.effect),t.trampoline}function nn(){const e={next:void 0,callback:rn,trampoline:(...t)=>{var n;return(n=e.callback)==null?void 0:n.call(e,...t)},effect:()=>{e.callback=e.next}};return e}function rn(){}const sn=[];function It(e){i.useEffect(e,sn)}const Ce=0;class je{constructor(){Ee(this,"currentId",Ce);Ee(this,"clear",()=>{this.currentId!==Ce&&(clearTimeout(this.currentId),this.currentId=Ce)});Ee(this,"disposeEffect",()=>this.clear)}static create(){return new je}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=Ce,n()},t)}isStarted(){return this.currentId!==Ce}}function Ye(){const e=pe(je.create).current;return It(e.disposeEffect),e}const at=0;class et extends je{constructor(){super(...arguments);Ee(this,"clear",()=>{this.currentId!==at&&(clearInterval(this.currentId),this.currentId=at)})}static create(){return new et}start(n,s){this.clear(),this.currentId=setInterval(()=>{s()},n)}}function on(){const e=pe(et.create).current;return It(e.disposeEffect),e}const an=()=>{},G=typeof document<"u"?i.useLayoutEffect:an;function qe(e){const t=pe(un,e).current;return t.next=e,G(t.effect),t}function un(e){const t={current:e,next:e,effect:()=>{t.current=t.next}};return t}function cn(){const[,e]=i.useState({});return i.useCallback(()=>{e({})},[])}function ln(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fn(e){return(e==null?void 0:e.ownerDocument)||document}const Be=typeof navigator<"u",Ge=gn(),dn=bn(),mn=yn();typeof CSS>"u"||!CSS.supports||CSS.supports("-webkit-backdrop-filter:none");const pn=Ge.platform==="MacIntel"&&Ge.maxTouchPoints>1?!0:/iP(hone|ad|od)|iOS/.test(Ge.platform);Be&&dn.toLowerCase().startsWith("mac")&&navigator.maxTouchPoints;mn.includes("jsdom/");function gn(){if(!Be)return{platform:"",maxTouchPoints:-1};const e=navigator.userAgentData;return e!=null&&e.platform?{platform:e.platform,maxTouchPoints:navigator.maxTouchPoints}:{platform:navigator.platform??"",maxTouchPoints:navigator.maxTouchPoints??-1}}function yn(){if(!Be)return"";const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:t,version:n})=>`${t}/${n}`).join(" "):navigator.userAgent}function bn(){if(!Be)return"";const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform??""}const xt=i.createContext(void 0);function Le(){const e=i.useContext(xt);if(e===void 0)throw new Error("Base UI: NumberFieldRootContext is missing. NumberField parts must be placed within <NumberField.Root>.");return e}const X=()=>{};let ut=function(e){return e.disabled="data-disabled",e.valid="data-valid",e.invalid="data-invalid",e.touched="data-touched",e.dirty="data-dirty",e.filled="data-filled",e.focused="data-focused",e}({});const tt={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:null,valueMissing:!1},hn={valid(e){return e===null?null:e?{[ut.valid]:""}:{[ut.invalid]:""}}},In=i.createContext({invalid:void 0,controlId:void 0,setControlId:X,labelId:void 0,setLabelId:X,messageIds:[],setMessageIds:X,name:void 0,validityData:{state:tt,errors:[],error:"",value:"",initialValue:null},setValidityData:X,disabled:void 0,touched:!1,setTouched:X,dirty:!1,setDirty:X,filled:!1,setFilled:X,focused:!1,setFocused:X,validate:()=>null,validationMode:"onBlur",validationDebounceTime:0,state:{disabled:!1,valid:null,touched:!1,dirty:!1,filled:!1,focused:!1},markedDirtyRef:{current:!1}});function Ue(e=!0){const t=i.useContext(In);if(t.setControlId===X&&!e)throw new Error("Base UI: FieldRootContext is missing. Field parts must be placed within <Field.Root>.");return t}const Pe={inputValue:()=>null,value:()=>null};function ct(e,t,n,s){const r=pe(vt).current;return vn(r,e,t,n,s)&&Rt(r,[e,t,n,s]),r.callback}function xn(e){const t=pe(vt).current;return Rn(t,e)&&Rt(t,e),t.callback}function vt(){return{callback:null,cleanup:null,refs:[]}}function vn(e,t,n,s,r){return e.refs[0]!==t||e.refs[1]!==n||e.refs[2]!==s||e.refs[3]!==r}function Rn(e,t){return e.refs.length!==t.length||e.refs.some((n,s)=>n!==t[s])}function Rt(e,t){if(e.refs=t,t.every(n=>n==null)){e.callback=null;return}e.callback=n=>{if(e.cleanup&&(e.cleanup(),e.cleanup=null),n!=null){const s=Array(t.length).fill(null);for(let r=0;r<t.length;r+=1){const o=t[r];if(o!=null)switch(typeof o){case"function":{const l=o(n);typeof l=="function"&&(s[r]=l);break}case"object":{o.current=n;break}}}e.cleanup=()=>{for(let r=0;r<t.length;r+=1){const o=t[r];if(o!=null)switch(typeof o){case"function":{const l=s[r];typeof l=="function"?l():o(null);break}case"object":{o.current=null;break}}}}}}}const En=parseInt(i.version,10);function Cn(e){return En>=e}function Et(e,t){if(e&&!t)return e;if(!e&&t)return t;if(e||t)return{...e,...t}}function Nn(e,t){const n={};for(const s in e){const r=e[s];if(t!=null&&t.hasOwnProperty(s)){const o=t[s](r);o!=null&&Object.assign(n,o);continue}r===!0?n[`data-${s.toLowerCase()}`]="":r&&(n[`data-${s.toLowerCase()}`]=r.toString())}return n}function Pn(e,t){return typeof e=="function"?e(t):e}const Ne={};function Fe(e,t,n,s,r){let o={...Xe(e,Ne)};return t&&(o=we(o,t)),n&&(o=we(o,n)),s&&(o=we(o,s)),o}function Sn(e){if(e.length===0)return Ne;if(e.length===1)return Xe(e[0],Ne);let t={...Xe(e[0],Ne)};for(let n=1;n<e.length;n+=1)t=we(t,e[n]);return t}function we(e,t){return Ct(t)?t(e):Vn(e,t)}function Vn(e,t){if(!t)return e;for(const n in t){const s=t[n];switch(n){case"style":{e[n]=Et(e.style,s);break}case"className":{e[n]=Nt(e.className,s);break}default:Dn(n,s)?e[n]=Tn(e[n],s):e[n]=s}}return e}function Dn(e,t){const n=e.charCodeAt(0),s=e.charCodeAt(1),r=e.charCodeAt(2);return n===111&&s===110&&r>=65&&r<=90&&(typeof t=="function"||typeof t>"u")}function Ct(e){return typeof e=="function"}function Xe(e,t){return Ct(e)?e(t):e??Ne}function Tn(e,t){return t?e?n=>{if(Mn(n)){const r=n;ze(r);const o=t(r);return r.baseUIHandlerPrevented||e==null||e(r),o}const s=t(n);return e==null||e(n),s}:t:e}function ze(e){return e.preventBaseUIHandler=()=>{e.baseUIHandlerPrevented=!0},e}function Nt(e,t){return t?e?t+" "+e:t:e}function Mn(e){return e!=null&&typeof e=="object"&&"nativeEvent"in e}const de={};function Se(e,t,n={}){const s=t.render,r=wn(t,n);if(n.enabled===!1)return null;const o=n.state??de;return An(e,s,r,o)}function wn(e,t={}){const{className:n,render:s}=e,{state:r=de,ref:o,props:l,disableStyleHooks:b,customStyleHookMapping:d,enabled:m=!0}=t,a=m?Pn(n,r):void 0;let f;b!==!0&&(f=i.useMemo(()=>m?Nn(r,d):de,[r,d,m]));const g=m?Et(f,Array.isArray(l)?Sn(l):l)??de:de;return typeof document<"u"&&(m?Array.isArray(o)?g.ref=xn([g.ref,lt(s),...o]):g.ref=ct(g.ref,lt(s),o):ct(null,null)),m?(a!==void 0&&(g.className=Nt(g.className,a)),g):de}function An(e,t,n,s){if(t){if(typeof t=="function")return t(n,s);const r=Fe(n,t.props);return r.ref=n.ref,i.cloneElement(t,r)}if(e&&typeof e=="string")return Fn(e,n);throw new Error("Base UI: Render element or function are not defined.")}function Fn(e,t){return e==="button"?E.jsx("button",{type:"button",...t}):e==="img"?E.jsx("img",{alt:"",...t}):i.createElement(e,t)}function lt(e){return e&&typeof e!="function"?Cn(19)?e.props.ref:e.ref:null}const ft=new Map;function ke(e,t){const n=JSON.stringify({locale:e,options:t}),s=ft.get(n);if(s)return s;const r=new Intl.NumberFormat(e,t);return ft.set(n,r),r}function me(e,t,n){return e==null?"":ke(t,n).format(e)}function Pt(e,t,n){return me(e,t,{...n,maximumFractionDigits:20})}const St=["零","一","二","三","四","五","六","七","八","九"],Vt=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"],Dt=["%","٪"],Je=new RegExp(`[${Vt.join("")}]`,"g"),Qe=new RegExp(`[${St.join("")}]`,"g"),kn=new RegExp(`[${Dt.join("")}]`);function nt(e,t){const n=ke(e,t).formatToParts(11111.1),s={};return n.forEach(r=>{s[r.type]=r.value}),ke(e).formatToParts(.1).forEach(r=>{r.type==="decimal"&&(s[r.type]=r.value)}),s}function ie(e,t,n){let s=t;s===void 0&&(Je.test(e)?s="ar":Qe.test(e)&&(s="zh"));const{group:r,decimal:o,currency:l,unit:b}=nt(s,n);let d=null;r&&(d=new RegExp("\\p{Zs}","u").test(r)?new RegExp("\\p{Zs}","gu"):new RegExp(`\\${r}`,"g"));const a=[{regex:r?d:null,replacement:""},{regex:o?new RegExp(`\\${o}`,"g"):null,replacement:"."},{regex:l?new RegExp(`\\${l}`,"g"):null,replacement:""},{regex:b?new RegExp(`\\${b}`,"g"):null,replacement:""},{regex:Je,replacement:I=>Vt.indexOf(I).toString()},{regex:Qe,replacement:I=>St.indexOf(I).toString()}].reduce((I,{regex:D,replacement:O})=>D?I.replace(D,O):I,e);let f=parseFloat(a);const g=n==null?void 0:n.style,v=g==="unit"&&(n==null?void 0:n.unit)==="percent",y=kn.test(e)||g==="percent";return!v&&y&&(f/=100),Number.isNaN(f)?null:f}const _n={...bt};let dt=0;function jn(e,t="mui"){const[n,s]=i.useState(e),r=e||n;return i.useEffect(()=>{n==null&&(dt+=1,s(`${t}-${dt}`))},[n,t]),r}const mt=_n.useId;function Bn(e,t){if(mt!==void 0){const n=mt();return e??`${t}-${n}`}return jn(e,t)}function Ln(e){return Bn(e,"base-ui")}const Un=60,On=400,$n=50,Kn=3,Hn=8,_e=1;function Gn(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function Me(e,t={}){return parseFloat(ke("en-US",{maximumFractionDigits:t.maximumFractionDigits,minimumFractionDigits:t.minimumFractionDigits,useGrouping:!1}).format(e))}function Wn(e,{step:t,minWithDefault:n,maxWithDefault:s,minWithZeroDefault:r,format:o,snapOnStep:l,small:b}){if(e===null)return e;const d=Gn(e,n,s);if(t!=null&&l){if(b){const a=(d-r)/t,f=Math.round(a),g=r+f*t;return Me(g,o)}const m=n!==Number.MIN_SAFE_INTEGER?n:r;if(t>0){const a=d-t,f=Math.floor((a-m)/t);return Me(m+f*t+t,o)}if(t<0){const a=Math.abs(t),f=d-t,g=Math.ceil((f-m)/a);return Me(m+g*a+t,o)}}return Me(d,o)}const Yn=i.forwardRef(function(t,n){const{id:s,min:r,max:o,smallStep:l=.1,step:b=1,largeStep:d=10,required:m=!1,disabled:a=!1,readOnly:f=!1,name:g,defaultValue:v,value:y,onValueChange:I,allowWheelScrub:D=!1,snapOnStep:O=!1,format:u,locale:C,render:h,className:W,inputRef:N,...T}=t,{setControlId:_,setDirty:V,validityData:F,setValidityData:M,disabled:x,setFilled:R,invalid:c,name:w,state:$}=Ue(),L=x||a,j=w??g,[J,Ve]=i.useState(!1),Y=r??Number.MIN_SAFE_INTEGER,re=o??Number.MAX_SAFE_INTEGER,De=r??0,Te=u==null?void 0:u.style,Q=i.useRef(null),p=Ln(s);G(()=>(_(p),()=>{_(void 0)}),[p,_]);const[P,U]=en({controlled:y,default:v,name:"NumberField",state:"value"}),S=P??null,Z=qe(S);G(()=>{R(S!==null)},[R,S]);const ee=cn(),se=qe(u),te=z(I),oe=Ye(),ge=on(),ye=Ye(),be=i.useRef(!1),he=i.useRef(0),ae=i.useRef(!0),Ie=i.useRef(()=>{});G(()=>{F.initialValue===null&&S!==F.initialValue&&M(B=>({...B,initialValue:S}))},[M,F.initialValue,S]);const[ne,q]=i.useState(()=>y!==void 0?pt(S,C,u):me(S,C,u)),[xe,Oe]=i.useState("numeric"),st=z(()=>{const{decimal:B,group:A,currency:K}=nt(C,u),k=new Set([".",",",B,A]);return Te==="percent"&&Dt.forEach(H=>k.add(H)),Te==="currency"&&K&&k.add(K),Y<0&&k.add("-"),k}),ue=z(B=>B!=null&&B.altKey?l:B!=null&&B.shiftKey?d:b),$e=z((B,A,K)=>{const k=A,H=Wn(B,{step:K?ue(k)*K:void 0,format:se.current,minWithDefault:Y,maxWithDefault:re,minWithZeroDefault:De,snapOnStep:O,small:(k==null?void 0:k.altKey)??!1});te==null||te(H,A&&"nativeEvent"in A?A.nativeEvent:A),U(H),V(H!==F.initialValue),ae.current&&q(me(H,C,u)),ee()}),ve=z((B,A,K,k)=>{const H=K??Z.current,Re=typeof H=="number"?H+B*A:Math.max(0,r??0);$e(Re,k,A)}),ce=z(()=>{ye.clear(),oe.clear(),ge.clear(),Ie.current(),he.current=0}),ot=z((B,A)=>{if(ce(),!Q.current)return;const K=ln(Q.current);function k(Re){Re.preventDefault()}K.addEventListener("contextmenu",k),Ie.current=()=>{K.removeEventListener("contextmenu",k)},K.addEventListener("pointerup",()=>{be.current=!1,ce()},{once:!0});function H(){const Re=ue(A)??_e;ve(Re,B?1:-1,void 0,A)}H(),oe.start(On,()=>{ge.start(Un,H)})});G(function(){if(!ae.current)return;const A=y!==void 0?pt(S,C,u):me(S,C,u);A!==ne&&q(A)}),G(function(){if(!pn)return;let A="text";Y>=0&&(A="decimal"),Oe(A)},[Y,Te]),i.useEffect(()=>()=>ce(),[ce]),i.useEffect(function(){const A=Q.current;if(L||f||!D||!A)return;function K(k){if(k.ctrlKey||fn(Q.current).activeElement!==Q.current)return;k.preventDefault();const H=ue(k)??_e;ve(H,k.deltaY>0?-1:1,void 0,k)}return A.addEventListener("wheel",K),()=>{A.removeEventListener("wheel",K)}},[D,ve,L,f,d,b,ue]);const Ke=i.useMemo(()=>({...$,disabled:L,readOnly:f,required:m,value:S,inputValue:ne,scrubbing:J}),[$,L,f,m,S,ne,J]),wt=i.useMemo(()=>({inputRef:Q,inputValue:ne,value:S,startAutoChange:ot,stopAutoChange:ce,minWithDefault:Y,maxWithDefault:re,disabled:L,readOnly:f,id:p,setValue:$e,incrementValue:ve,getStepAmount:ue,allowInputSyncRef:ae,formatOptionsRef:se,valueRef:Z,isPressedRef:be,intentionalTouchCheckTimeout:ye,movesAfterTouchRef:he,name:j,required:m,invalid:c,inputMode:xe,getAllowedNonNumericKeys:st,min:r,max:o,setInputValue:q,locale:C,isScrubbing:J,setIsScrubbing:Ve,state:Ke}),[Q,ne,S,ot,ce,Y,re,L,f,p,$e,ve,ue,ae,se,Z,be,ye,he,j,m,c,xe,st,r,o,q,C,J,Ke]),At=Se("div",t,{ref:n,state:Ke,props:T,customStyleHookMapping:Pe});return E.jsxs(xt.Provider,{value:wt,children:[At,j&&E.jsx("input",{type:"hidden",name:j,ref:N,value:S??"",disabled:L,required:m})]})});function pt(e,t,n){return(n==null?void 0:n.maximumFractionDigits)!=null||(n==null?void 0:n.minimumFractionDigits)!=null?me(e,t,n):Pt(e,t,n)}const qn=i.forwardRef(function(t,n){const{render:s,className:r,...o}=t,{state:l}=Le();return Se("div",t,{ref:n,state:l,props:[{role:"group"},o],customStyleHookMapping:Pe})}),Xn=i.createContext(void 0);function zn(e=!1){const t=i.useContext(Xn);if(t===void 0&&!e)throw new Error("Base UI: CompositeRootContext is missing. Composite parts must be placed within <Composite.Root>.");return t}function Jn(e){const{focusableWhenDisabled:t,disabled:n,composite:s=!1,tabIndex:r=0,isNativeButton:o}=e,l=s&&t!==!1,b=s&&t===!1;return{props:i.useMemo(()=>{const m={onKeyDown(a){n&&t&&a.key!=="Tab"&&a.preventDefault()}};return s||(m.tabIndex=r,!o&&n&&(m.tabIndex=t?r:-1)),(o&&(t||l)||!o&&n)&&(m["aria-disabled"]=n),o&&(!t||b)&&(m.disabled=n),m},[s,n,t,l,b,o,r])}}function Tt(e={}){const{disabled:t=!1,focusableWhenDisabled:n,tabIndex:s=0,native:r=!0}=e,o=i.useRef(null),l=zn(!0)!==void 0,b=z(()=>{const a=o.current;return!!((a==null?void 0:a.tagName)==="A"&&(a!=null&&a.href))}),{props:d}=Jn({focusableWhenDisabled:n,disabled:t,composite:l,tabIndex:s,isNativeButton:r});return G(()=>{const a=o.current;a instanceof HTMLButtonElement&&l&&t&&d.disabled===void 0&&a.disabled&&(a.disabled=!1)},[t,d.disabled,l]),{getButtonProps:i.useCallback((a={})=>{const{onClick:f,onMouseDown:g,onKeyUp:v,onKeyDown:y,onPointerDown:I,...D}=a;return Fe({type:r?"button":void 0,onClick(u){if(t){u.preventDefault();return}f==null||f(u)},onMouseDown(u){t||g==null||g(u)},onKeyDown(u){if(t||(ze(u),y==null||y(u)),u.baseUIHandlerPrevented)return;const C=u.target===u.currentTarget&&!r&&!b()&&!t,h=u.key==="Enter",W=u.key===" ";C&&((W||h)&&u.preventDefault(),h&&(f==null||f(u)))},onKeyUp(u){t||(ze(u),v==null||v(u)),!u.baseUIHandlerPrevented&&u.target===u.currentTarget&&!r&&!t&&u.key===" "&&(f==null||f(u))},onPointerDown(u){if(t){u.preventDefault();return}I==null||I(u)}},r?void 0:{role:"button"},d,D)},[t,d,r,b]),buttonRef:o}}function Mt(e){const{allowInputSyncRef:t,disabled:n,formatOptionsRef:s,getStepAmount:r,id:o,incrementValue:l,inputRef:b,inputValue:d,intentionalTouchCheckTimeout:m,isIncrement:a,isPressedRef:f,locale:g,maxWithDefault:v,minWithDefault:y,movesAfterTouchRef:I,readOnly:D,setValue:O,startAutoChange:u,stopAutoChange:C,value:h,valueRef:W}=e,N=i.useRef({x:0,y:0}),T=i.useRef(!1),_=i.useRef(!1),V=i.useRef(""),F=h!=null&&h<=y,M=h!=null&&h>=v,x=z(c=>{t.current=!0;const w=ie(d,g,s.current);w!==null&&(W.current=w,O(w,c))}),R=i.useMemo(()=>({disabled:n||(a?M:F),"aria-readonly":D||void 0,"aria-label":a?"Increase":"Decrease","aria-controls":o,tabIndex:-1,style:{WebkitUserSelect:"none",userSelect:"none"},onTouchStart(){T.current=!0},onTouchEnd(){T.current=!1},onClick(c){const w=n||D||(a?M:F);if(c.defaultPrevented||w||(V.current==="touch"?_.current:c.detail!==0))return;x(c.nativeEvent);const $=r(c)??_e;l($,a?1:-1,void 0,c.nativeEvent)},onPointerDown(c){var L;const w=!c.button||c.button===0,$=n||(a?M:F);c.defaultPrevented||D||!w||$||(V.current=c.pointerType,_.current=!1,f.current=!0,N.current={x:c.clientX,y:c.clientY},x(c.nativeEvent),c.pointerType!=="touch"?(c.preventDefault(),(L=b.current)==null||L.focus(),u(a,c)):m.start($n,()=>{const j=I.current;I.current=0,j!=null&&j<Kn?(_.current=!0,u(a,c)):C()}))},onPointerMove(c){if(n||D||(a?M:F)||c.pointerType!=="touch"||!f.current)return;I.current!=null&&(I.current+=1);const{x:$,y:L}=N.current,j=$-c.clientX,J=L-c.clientY;j**2+J**2>Hn**2&&C()},onMouseEnter(c){const w=n||D||(a?M:F);c.defaultPrevented||w||!f.current||T.current||u(a,c)},onMouseLeave(){T.current||C()},onMouseUp(){T.current||C()}}),[x,n,r,o,l,b,a,m,M,F,f,I,D,u,C]);return i.useMemo(()=>({props:R}),[R])}const Qn=i.forwardRef(function(t,n){const{render:s,className:r,disabled:o=!1,nativeButton:l=!0,...b}=t,{allowInputSyncRef:d,disabled:m,formatOptionsRef:a,getStepAmount:f,id:g,incrementValue:v,inputRef:y,inputValue:I,intentionalTouchCheckTimeout:D,isPressedRef:O,locale:u,maxWithDefault:C,minWithDefault:h,movesAfterTouchRef:W,readOnly:N,setValue:T,startAutoChange:_,state:V,stopAutoChange:F,value:M,valueRef:x}=Le(),R=o||m,{props:c}=Mt({isIncrement:!0,inputRef:y,startAutoChange:_,stopAutoChange:F,minWithDefault:h,maxWithDefault:C,value:M,inputValue:I,disabled:R,readOnly:N,id:g,setValue:T,getStepAmount:f,incrementValue:v,allowInputSyncRef:d,formatOptionsRef:a,valueRef:x,isPressedRef:O,intentionalTouchCheckTimeout:D,movesAfterTouchRef:W,locale:u}),{getButtonProps:w,buttonRef:$}=Tt({disabled:R,native:l}),L=i.useMemo(()=>({...V,disabled:R}),[V,R]);return Se("button",t,{ref:[n,$],state:L,props:[c,b,w],customStyleHookMapping:Pe})}),Zn=i.forwardRef(function(t,n){const{render:s,className:r,disabled:o=!1,nativeButton:l=!0,...b}=t,{allowInputSyncRef:d,disabled:m,formatOptionsRef:a,getStepAmount:f,id:g,incrementValue:v,inputRef:y,inputValue:I,intentionalTouchCheckTimeout:D,isPressedRef:O,maxWithDefault:u,minWithDefault:C,movesAfterTouchRef:h,readOnly:W,setValue:N,startAutoChange:T,state:_,stopAutoChange:V,value:F,valueRef:M,locale:x}=Le(),R=o||m,{props:c}=Mt({isIncrement:!1,inputRef:y,startAutoChange:T,stopAutoChange:V,minWithDefault:C,maxWithDefault:u,value:F,inputValue:I,disabled:R,readOnly:W,id:g,setValue:N,getStepAmount:f,incrementValue:v,allowInputSyncRef:d,formatOptionsRef:a,valueRef:M,isPressedRef:O,intentionalTouchCheckTimeout:D,movesAfterTouchRef:h,locale:x}),{getButtonProps:w,buttonRef:$}=Tt({disabled:R,native:l}),L=i.useMemo(()=>({..._,disabled:R}),[_,R]);return Se("button",t,{ref:[n,$],state:L,props:[c,b,w],customStyleHookMapping:Pe})});function er(e){e.preventDefault(),e.stopPropagation()}const tr=i.createContext({formRef:{current:{fields:new Map}},errors:{},clearErrors:X});function rt(){return i.useContext(tr)}function Ze(e,t){return{...e,state:{...e.state,valid:!t&&e.state.valid}}}const Ae=Object.keys(tt);function nr(e){if(!e||e.valid||!e.valueMissing)return!1;let t=!1;for(const n of Ae)n!=="valid"&&(n==="valueMissing"&&(t=e[n]),e[n]&&(t=!1));return t}function rr(){const{setValidityData:e,validate:t,messageIds:n,validityData:s,validationMode:r,validationDebounceTime:o,invalid:l,markedDirtyRef:b,controlId:d,state:m,name:a}=Ue(),{formRef:f,clearErrors:g}=rt(),v=Ye(),y=i.useRef(null),I=z(async(u,C=!1)=>{const h=y.current;if(!h)return;if(C){if(m.valid!==!1)return;const M=h.validity;if(!M.valueMissing){const R={value:u,state:{...tt,valid:!0},error:"",errors:[],initialValue:s.initialValue};if(h.setCustomValidity(""),d){const c=f.current.fields.get(d);c&&f.current.fields.set(d,{...c,...Ze(R,!1)})}e(R);return}const x=Ae.reduce((R,c)=>(R[c]=M[c],R),{});if(!x.valid&&!nr(x))return}function W(M){const x=Ae.reduce((c,w)=>(c[w]=M.validity[w],c),{});let R=!1;for(const c of Ae)if(c!=="valid"){if(c==="valueMissing"&&x[c])R=!0;else if(x[c])return x}return R&&!b.current&&(x.valid=!0,x.valueMissing=!1),x}v.clear();let N=null,T=[];const _=W(h);let V;if(h.validationMessage)V=h.validationMessage,T=[h.validationMessage];else{const M=Array.from(f.current.fields.values()).reduce((R,c)=>{var w,$;return c.name&&c.getValueRef&&(R[c.name]=($=(w=c.getValueRef).current)==null?void 0:$.call(w)),R},{}),x=t(u,M);typeof x=="object"&&x!==null&&"then"in x?N=await x:N=x,N!==null&&(_.valid=!1,_.customError=!0,Array.isArray(N)?(T=N,h.setCustomValidity(N.join(`
`))):N&&(T=[N],h.setCustomValidity(N)))}const F={value:u,state:_,error:V??(Array.isArray(N)?N[0]:N??""),errors:T,initialValue:s.initialValue};if(d){const M=f.current.fields.get(d);M&&f.current.fields.set(d,{...M,...Ze(F,l)})}e(F)}),D=i.useCallback((u={})=>Fe({...n.length&&{"aria-describedby":n.join(" ")},...m.valid===!1&&{"aria-invalid":!0}},u),[n,m.valid]),O=i.useCallback((u={})=>Fe({onChange(C){if(C.nativeEvent.defaultPrevented)return;if(g(a),r!=="onChange"){I(C.currentTarget.value,!0);return}if(l)return;const h=C.currentTarget;if(h.value===""){I(h.value);return}v.clear(),o?v.start(o,()=>{I(h.value)}):I(h.value)}},D(u)),[D,g,a,v,I,l,r,o]);return i.useMemo(()=>({getValidationProps:D,getInputValidationProps:O,inputRef:y,commitValidation:I}),[D,O,I])}function sr(e){const{formRef:t}=rt(),{invalid:n,markedDirtyRef:s,validityData:r,setValidityData:o}=Ue(),{enabled:l=!0,value:b,id:d,name:m,controlRef:a,commitValidation:f}=e,g=qe(e.getValue);G(()=>{var y;if(!l)return;let v=b;v===void 0&&(v=(y=g.current)==null?void 0:y.call(g)),r.initialValue===null&&v!==r.initialValue&&o(I=>({...I,initialValue:v}))},[l,o,b,r.initialValue,g]),G(()=>{l&&d&&t.current.fields.set(d,{controlRef:a,validityData:Ze(r,n),validate(){var y;let v=b;v===void 0&&(v=(y=g.current)==null?void 0:y.call(g)),s.current=!0,Gt.flushSync(()=>f(v))},getValueRef:g,name:m})},[f,a,l,t,g,d,n,s,m,r,b]),G(()=>{const v=t.current.fields;return()=>{d&&v.delete(d)}},[t,d])}const or={...hn,...Pe},ir=new Set(["Backspace","Delete","ArrowLeft","ArrowRight","Tab","Enter","Escape"]),ar=i.forwardRef(function(t,n){const{render:s,className:r,...o}=t,{allowInputSyncRef:l,disabled:b,formatOptionsRef:d,getAllowedNonNumericKeys:m,getStepAmount:a,id:f,incrementValue:g,inputMode:v,inputValue:y,max:I,min:D,name:O,readOnly:u,required:C,setValue:h,state:W,setInputValue:N,locale:T,inputRef:_,value:V}=Le(),{clearErrors:F}=rt(),{labelId:M,validationMode:x,setTouched:R,setFocused:c,invalid:w}=Ue(),{getInputValidationProps:$,getValidationProps:L,commitValidation:j,inputRef:J}=rr(),Ve=i.useRef(!1),Y=i.useRef(!1);sr({id:f,commitValidation:j,value:V,controlRef:_,name:O,getValue:()=>V??null});const re=i.useRef(V),De=i.useRef(y);return G(()=>{re.current===V&&De.current===y||(F(O),x==="onChange"&&j(V))},[V,y,O,F,x,j]),G(()=>{if(!(re.current===V||x==="onChange")){if(Y.current){Y.current=!1;return}j(V,!0)}},[j,x,V]),G(()=>{re.current=V,De.current=y},[V,y]),Se("input",t,{ref:[n,_,J],state:W,props:[{id:f,required:C,disabled:b,readOnly:u,inputMode:v,value:y,type:"text",autoComplete:"off",autoCorrect:"off",spellCheck:"false","aria-roledescription":"Number field","aria-invalid":w||void 0,"aria-labelledby":M,suppressHydrationWarning:!0,onFocus(p){if(p.defaultPrevented||u||b||Ve.current)return;Ve.current=!0,c(!0);const P=p.currentTarget,U=P.value.length;P.setSelectionRange(U,U)},onBlur(p){if(p.defaultPrevented||u||b)return;if(R(!0),c(!1),l.current=!0,y.trim()===""){h(null),x==="onBlur"&&j(null);return}const P=d.current,U=ie(y,T,P),S=me(U,T,P),Z=Pt(U,T,P),ee=ie(S,T,P),se=ie(Z,T,P);if(U===null)return;Y.current=!0,x==="onBlur"&&j(ee),(P==null?void 0:P.maximumFractionDigits)!=null||(P==null?void 0:P.minimumFractionDigits)!=null?(V!==ee&&h(ee,p.nativeEvent),y!==S&&N(S)):V!==se?h(ee,p.nativeEvent):!(U===V&&y===Z)&&y!==S&&N(S)},onChange(p){if(p.nativeEvent.defaultPrevented)return;l.current=!1;const P=p.target.value;if(P.trim()===""){N(P),h(null,p.nativeEvent);return}if(p.isTrusted){N(P);return}const U=ie(P,T,d.current);U!==null&&(N(P),h(U,p.nativeEvent))},onKeyDown(p){if(p.defaultPrevented||u||b)return;const P=p.nativeEvent;l.current=!0;const U=m();let S=U.has(p.key);const{decimal:Z,currency:ee,percentSign:se}=nt([],d.current),te=p.currentTarget.selectionStart,oe=p.currentTarget.selectionEnd,ge=te===0&&oe===y.length;if(p.key==="-"&&U.has("-")){const q=te===0&&oe===1&&y[0]==="-";S=!y.includes("-")||ge||q}[Z,ee,se].forEach(q=>{if(p.key===q){const xe=y.indexOf(q),Oe=te===xe&&oe===xe+1;S=!y.includes(q)||ge||Oe}});const ye=/^[0-9]$/.test(p.key),be=Je.test(p.key),he=Qe.test(p.key),ae=ir.has(p.key);if(p.which===229||p.altKey||p.ctrlKey||p.metaKey||S||ye||be||he||ae)return;const Ie=ie(y,T,d.current),ne=a(p)??_e;er(p),p.key==="ArrowUp"?g(ne,1,Ie,P):p.key==="ArrowDown"?g(ne,-1,Ie,P):p.key==="Home"&&D!=null?h(D,P):p.key==="End"&&I!=null&&h(I,P)},onPaste(p){if(p.defaultPrevented||u||b)return;p.preventDefault();const U=(p.clipboardData||window.Clipboard).getData("text/plain"),S=ie(U,T,d.current);S!==null&&(l.current=!1,h(S,p.nativeEvent),N(U))}},$(),L(),o],customStyleHookMapping:or})}),ur=i.memo(({product:e})=>{const{t}=Ht("translation",{keyPrefix:"components.CartButtonAdd"}),n=ht(),[s,r]=i.useState(0);i.useEffect(()=>{const m=n.cartItems.find(a=>a.productId===e.id);r(m?m.quantity:0)},[n.cartItems,e.id]);const o=()=>{n.addProduct(e)},l=()=>{n.decrementProduct(e.id)},b=m=>{const a=parseInt(m.target.value);!isNaN(a)&&a>=0&&n.setQuantity(e.id,a)},d=_t.useId();return E.jsx(E.Fragment,{children:s===0?E.jsx($t,{variant:"contained",className:le.buy,onClick:o,children:t("textButton")}):E.jsx(Yn,{id:d,value:s,className:le.field,children:E.jsxs(qn,{className:le.group,children:[E.jsx(Zn,{className:le.decrement,onClick:l,children:E.jsx(Yt,{})}),E.jsx(ar,{className:le.input,value:s,onChange:b}),E.jsx(Qn,{className:le.increment,onClick:o,children:E.jsx(jt,{})})]})})})}),cr="_buttons_1yi30_5",gt={"cart-item":"_cart-item_1yi30_1",buttons:cr},lr="_price_gxzs0_1",yt={price:lr,"price-old":"_price-old_gxzs0_8"},fr=({price:e,oldPrice:t})=>E.jsxs(fe,{component:"span",children:[E.jsx(We,{component:"span",className:yt.price,children:e.toLocaleString("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}).replace("руб.","₽").replace(/\s/g," ")}),t&&E.jsx(We,{component:"span",className:yt["price-old"],children:t.toLocaleString("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0}).replace("руб.","₽").replace(/\s/g," ")})]}),vr=i.memo(({product:e,onRemove:t})=>E.jsxs(fe,{gap:2,className:gt["cart-item"],children:[E.jsx("img",{width:128,height:128,src:e.photo}),E.jsxs(fe,{width:1,pr:2,sx:{display:"flex",justifyContent:"space-between"},children:[E.jsxs(fe,{children:[E.jsx(We,{variant:"h6",children:e.name}),E.jsx(ur,{product:e})]}),E.jsxs(fe,{children:[E.jsx(fe,{className:gt.buttons,children:E.jsx(Wt,{"aria-label":"delete",children:E.jsx(Bt,{onClick:t})})}),E.jsx(fr,{price:e.price,oldPrice:e.oldPrice})]})]})]}));export{vr as C,fr as P,ht as a,ur as b,xr as u};
